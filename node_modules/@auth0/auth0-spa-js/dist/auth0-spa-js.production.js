!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).createAuth0Client=t()}(this,(function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};function t(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function o(e,t,n,r){return new(n||(n=Promise))((function(o,i){function c(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}s((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(o=c.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function a(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function u(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function l(e,t){return e(t={exports:{}},t.exports),t.exports}var f=function(e){return e&&e.Math==Math&&e},d=f("object"==typeof globalThis&&globalThis)||f("object"==typeof window&&window)||f("object"==typeof self&&self)||f("object"==typeof s&&s)||function(){return this}()||Function("return this")(),h=function(e){try{return!!e()}catch(e){return!0}},p=!h((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),y={}.propertyIsEnumerable,v=Object.getOwnPropertyDescriptor,m={f:v&&!y.call({1:2},1)?function(e){var t=v(this,e);return!!t&&t.enumerable}:y},g=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},b={}.toString,w=function(e){return b.call(e).slice(8,-1)},S="".split,_=h((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==w(e)?S.call(e,""):Object(e)}:Object,I=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},k=function(e){return _(I(e))},T=function(e){return"object"==typeof e?null!==e:"function"==typeof e},O=function(e,t){if(!T(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!T(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!T(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!T(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},E=function(e){return Object(I(e))},C={}.hasOwnProperty,x=function(e,t){return C.call(E(e),t)},R=d.document,L=T(R)&&T(R.createElement),U=function(e){return L?R.createElement(e):{}},j=!p&&!h((function(){return 7!=Object.defineProperty(U("div"),"a",{get:function(){return 7}}).a})),P=Object.getOwnPropertyDescriptor,K={f:p?P:function(e,t){if(e=k(e),t=O(t,!0),j)try{return P(e,t)}catch(e){}if(x(e,t))return g(!m.f.call(e,t),e[t])}},A=function(e){if(!T(e))throw TypeError(String(e)+" is not an object");return e},F=Object.defineProperty,W={f:p?F:function(e,t,n){if(A(e),t=O(t,!0),A(n),j)try{return F(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},V=p?function(e,t,n){return W.f(e,t,g(1,n))}:function(e,t,n){return e[t]=n,e},Z=function(e,t){try{V(d,e,t)}catch(n){d[e]=t}return t},X="__core-js_shared__",z=d[X]||Z(X,{}),N=Function.toString;"function"!=typeof z.inspectSource&&(z.inspectSource=function(e){return N.call(e)});var J,G,D,M=z.inspectSource,Y=d.WeakMap,B="function"==typeof Y&&/native code/.test(M(Y)),H=l((function(e){(e.exports=function(e,t){return z[e]||(z[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.11.0",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),q=0,Q=Math.random(),$=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++q+Q).toString(36)},ee=H("keys"),te=function(e){return ee[e]||(ee[e]=$(e))},ne={},re="Object already initialized",oe=d.WeakMap;if(B){var ie=z.state||(z.state=new oe),ce=ie.get,ae=ie.has,se=ie.set;J=function(e,t){if(ae.call(ie,e))throw new TypeError(re);return t.facade=e,se.call(ie,e,t),t},G=function(e){return ce.call(ie,e)||{}},D=function(e){return ae.call(ie,e)}}else{var ue=te("state");ne[ue]=!0,J=function(e,t){if(x(e,ue))throw new TypeError(re);return t.facade=e,V(e,ue,t),t},G=function(e){return x(e,ue)?e[ue]:{}},D=function(e){return x(e,ue)}}var le,fe,de={set:J,get:G,has:D,enforce:function(e){return D(e)?G(e):J(e,{})},getterFor:function(e){return function(t){var n;if(!T(t)||(n=G(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},he=l((function(e){var t=de.get,n=de.enforce,r=String(String).split("String");(e.exports=function(e,t,o,i){var c,a=!!i&&!!i.unsafe,s=!!i&&!!i.enumerable,u=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof t||x(o,"name")||V(o,"name",t),(c=n(o)).source||(c.source=r.join("string"==typeof t?t:""))),e!==d?(a?!u&&e[t]&&(s=!0):delete e[t],s?e[t]=o:V(e,t,o)):s?e[t]=o:Z(t,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||M(this)}))})),pe=d,ye=function(e){return"function"==typeof e?e:void 0},ve=function(e,t){return arguments.length<2?ye(pe[e])||ye(d[e]):pe[e]&&pe[e][t]||d[e]&&d[e][t]},me=Math.ceil,ge=Math.floor,be=function(e){return isNaN(e=+e)?0:(e>0?ge:me)(e)},we=Math.min,Se=function(e){return e>0?we(be(e),9007199254740991):0},_e=Math.max,Ie=Math.min,ke=function(e){return function(t,n,r){var o,i=k(t),c=Se(i.length),a=function(e,t){var n=be(e);return n<0?_e(n+t,0):Ie(n,t)}(r,c);if(e&&n!=n){for(;c>a;)if((o=i[a++])!=o)return!0}else for(;c>a;a++)if((e||a in i)&&i[a]===n)return e||a||0;return!e&&-1}},Te={includes:ke(!0),indexOf:ke(!1)},Oe=Te.indexOf,Ee=function(e,t){var n,r=k(e),o=0,i=[];for(n in r)!x(ne,n)&&x(r,n)&&i.push(n);for(;t.length>o;)x(r,n=t[o++])&&(~Oe(i,n)||i.push(n));return i},Ce=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],xe=Ce.concat("length","prototype"),Re={f:Object.getOwnPropertyNames||function(e){return Ee(e,xe)}},Le={f:Object.getOwnPropertySymbols},Ue=ve("Reflect","ownKeys")||function(e){var t=Re.f(A(e)),n=Le.f;return n?t.concat(n(e)):t},je=function(e,t){for(var n=Ue(t),r=W.f,o=K.f,i=0;i<n.length;i++){var c=n[i];x(e,c)||r(e,c,o(t,c))}},Pe=/#|\.prototype\./,Ke=function(e,t){var n=Fe[Ae(e)];return n==Ve||n!=We&&("function"==typeof t?h(t):!!t)},Ae=Ke.normalize=function(e){return String(e).replace(Pe,".").toLowerCase()},Fe=Ke.data={},We=Ke.NATIVE="N",Ve=Ke.POLYFILL="P",Ze=Ke,Xe=K.f,ze=function(e,t){var n,r,o,i,c,a=e.target,s=e.global,u=e.stat;if(n=s?d:u?d[a]||Z(a,{}):(d[a]||{}).prototype)for(r in t){if(i=t[r],o=e.noTargetGet?(c=Xe(n,r))&&c.value:n[r],!Ze(s?r:a+(u?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;je(i,o)}(e.sham||o&&o.sham)&&V(i,"sham",!0),he(n,r,i,e)}},Ne="process"==w(d.process),Je=ve("navigator","userAgent")||"",Ge=d.process,De=Ge&&Ge.versions,Me=De&&De.v8;Me?fe=(le=Me.split("."))[0]+le[1]:Je&&(!(le=Je.match(/Edge\/(\d+)/))||le[1]>=74)&&(le=Je.match(/Chrome\/(\d+)/))&&(fe=le[1]);var Ye,Be=fe&&+fe,He=!!Object.getOwnPropertySymbols&&!h((function(){return!Symbol.sham&&(Ne?38===Be:Be>37&&Be<41)})),qe=He&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Qe=H("wks"),$e=d.Symbol,et=qe?$e:$e&&$e.withoutSetter||$,tt=function(e){return x(Qe,e)&&(He||"string"==typeof Qe[e])||(He&&x($e,e)?Qe[e]=$e[e]:Qe[e]=et("Symbol."+e)),Qe[e]},nt=tt("match"),rt=function(e){if(function(e){var t;return T(e)&&(void 0!==(t=e[nt])?!!t:"RegExp"==w(e))}(e))throw TypeError("The method doesn't accept regular expressions");return e},ot=tt("match"),it=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[ot]=!1,"/./"[e](t)}catch(e){}}return!1},ct=K.f,at="".startsWith,st=Math.min,ut=it("startsWith"),lt=!(ut||(Ye=ct(String.prototype,"startsWith"),!Ye||Ye.writable));ze({target:"String",proto:!0,forced:!lt&&!ut},{startsWith:function(e){var t=String(I(this));rt(e);var n=Se(st(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return at?at.call(t,r,n):t.slice(n,n+r.length)===r}});var ft=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},dt=function(e,t,n){if(ft(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}},ht=Function.call,pt=function(e,t,n){return dt(ht,d[e].prototype[t],n)};pt("String","startsWith");var yt=Array.isArray||function(e){return"Array"==w(e)},vt=function(e,t,n){var r=O(t);r in e?W.f(e,r,g(0,n)):e[r]=n},mt=tt("species"),gt=function(e,t){var n;return yt(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!yt(n.prototype)?T(n)&&null===(n=n[mt])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},bt=tt("species"),wt=tt("isConcatSpreadable"),St=9007199254740991,_t="Maximum allowed index exceeded",It=Be>=51||!h((function(){var e=[];return e[wt]=!1,e.concat()[0]!==e})),kt=function(e){return Be>=51||!h((function(){var t=[];return(t.constructor={})[bt]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}("concat"),Tt=function(e){if(!T(e))return!1;var t=e[wt];return void 0!==t?!!t:yt(e)};ze({target:"Array",proto:!0,forced:!It||!kt},{concat:function(e){var t,n,r,o,i,c=E(this),a=gt(c,0),s=0;for(t=-1,r=arguments.length;t<r;t++)if(Tt(i=-1===t?c:arguments[t])){if(s+(o=Se(i.length))>St)throw TypeError(_t);for(n=0;n<o;n++,s++)n in i&&vt(a,s,i[n])}else{if(s>=St)throw TypeError(_t);vt(a,s++,i)}return a.length=s,a}});var Ot={};Ot[tt("toStringTag")]="z";var Et="[object z]"===String(Ot),Ct=tt("toStringTag"),xt="Arguments"==w(function(){return arguments}()),Rt=Et?w:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Ct))?n:xt?w(t):"Object"==(r=w(t))&&"function"==typeof t.callee?"Arguments":r},Lt=Et?{}.toString:function(){return"[object "+Rt(this)+"]"};Et||he(Object.prototype,"toString",Lt,{unsafe:!0});var Ut,jt=Object.keys||function(e){return Ee(e,Ce)},Pt=p?Object.defineProperties:function(e,t){A(e);for(var n,r=jt(t),o=r.length,i=0;o>i;)W.f(e,n=r[i++],t[n]);return e},Kt=ve("document","documentElement"),At=te("IE_PROTO"),Ft=function(){},Wt=function(e){return"<script>"+e+"</"+"script>"},Vt=function(){try{Ut=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;Vt=Ut?function(e){e.write(Wt("")),e.close();var t=e.parentWindow.Object;return e=null,t}(Ut):((t=U("iframe")).style.display="none",Kt.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Wt("document.F=Object")),e.close(),e.F);for(var n=Ce.length;n--;)delete Vt.prototype[Ce[n]];return Vt()};ne[At]=!0;var Zt=Object.create||function(e,t){var n;return null!==e?(Ft.prototype=A(e),n=new Ft,Ft.prototype=null,n[At]=e):n=Vt(),void 0===t?n:Pt(n,t)},Xt=Re.f,zt={}.toString,Nt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Jt={f:function(e){return Nt&&"[object Window]"==zt.call(e)?function(e){try{return Xt(e)}catch(e){return Nt.slice()}}(e):Xt(k(e))}},Gt={f:tt},Dt=W.f,Mt=function(e){var t=pe.Symbol||(pe.Symbol={});x(t,e)||Dt(t,e,{value:Gt.f(e)})},Yt=W.f,Bt=tt("toStringTag"),Ht=function(e,t,n){e&&!x(e=n?e:e.prototype,Bt)&&Yt(e,Bt,{configurable:!0,value:t})},qt=[].push,Qt=function(e){var t=1==e,n=2==e,r=3==e,o=4==e,i=6==e,c=7==e,a=5==e||i;return function(s,u,l,f){for(var d,h,p=E(s),y=_(p),v=dt(u,l,3),m=Se(y.length),g=0,b=f||gt,w=t?b(s,m):n||c?b(s,0):void 0;m>g;g++)if((a||g in y)&&(h=v(d=y[g],g,p),e))if(t)w[g]=h;else if(h)switch(e){case 3:return!0;case 5:return d;case 6:return g;case 2:qt.call(w,d)}else switch(e){case 4:return!1;case 7:qt.call(w,d)}return i?-1:r||o?o:w}},$t={forEach:Qt(0),map:Qt(1),filter:Qt(2),some:Qt(3),every:Qt(4),find:Qt(5),findIndex:Qt(6),filterOut:Qt(7)}.forEach,en=te("hidden"),tn="Symbol",nn=tt("toPrimitive"),rn=de.set,on=de.getterFor(tn),cn=Object.prototype,an=d.Symbol,sn=ve("JSON","stringify"),un=K.f,ln=W.f,fn=Jt.f,dn=m.f,hn=H("symbols"),pn=H("op-symbols"),yn=H("string-to-symbol-registry"),vn=H("symbol-to-string-registry"),mn=H("wks"),gn=d.QObject,bn=!gn||!gn.prototype||!gn.prototype.findChild,wn=p&&h((function(){return 7!=Zt(ln({},"a",{get:function(){return ln(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=un(cn,t);r&&delete cn[t],ln(e,t,n),r&&e!==cn&&ln(cn,t,r)}:ln,Sn=function(e,t){var n=hn[e]=Zt(an.prototype);return rn(n,{type:tn,tag:e,description:t}),p||(n.description=t),n},_n=qe?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof an},In=function(e,t,n){e===cn&&In(pn,t,n),A(e);var r=O(t,!0);return A(n),x(hn,r)?(n.enumerable?(x(e,en)&&e[en][r]&&(e[en][r]=!1),n=Zt(n,{enumerable:g(0,!1)})):(x(e,en)||ln(e,en,g(1,{})),e[en][r]=!0),wn(e,r,n)):ln(e,r,n)},kn=function(e,t){A(e);var n=k(t),r=jt(n).concat(Cn(n));return $t(r,(function(t){p&&!Tn.call(n,t)||In(e,t,n[t])})),e},Tn=function(e){var t=O(e,!0),n=dn.call(this,t);return!(this===cn&&x(hn,t)&&!x(pn,t))&&(!(n||!x(this,t)||!x(hn,t)||x(this,en)&&this[en][t])||n)},On=function(e,t){var n=k(e),r=O(t,!0);if(n!==cn||!x(hn,r)||x(pn,r)){var o=un(n,r);return!o||!x(hn,r)||x(n,en)&&n[en][r]||(o.enumerable=!0),o}},En=function(e){var t=fn(k(e)),n=[];return $t(t,(function(e){x(hn,e)||x(ne,e)||n.push(e)})),n},Cn=function(e){var t=e===cn,n=fn(t?pn:k(e)),r=[];return $t(n,(function(e){!x(hn,e)||t&&!x(cn,e)||r.push(hn[e])})),r};if(He||(he((an=function(){if(this instanceof an)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=$(e),n=function(e){this===cn&&n.call(pn,e),x(this,en)&&x(this[en],t)&&(this[en][t]=!1),wn(this,t,g(1,e))};return p&&bn&&wn(cn,t,{configurable:!0,set:n}),Sn(t,e)}).prototype,"toString",(function(){return on(this).tag})),he(an,"withoutSetter",(function(e){return Sn($(e),e)})),m.f=Tn,W.f=In,K.f=On,Re.f=Jt.f=En,Le.f=Cn,Gt.f=function(e){return Sn(tt(e),e)},p&&(ln(an.prototype,"description",{configurable:!0,get:function(){return on(this).description}}),he(cn,"propertyIsEnumerable",Tn,{unsafe:!0}))),ze({global:!0,wrap:!0,forced:!He,sham:!He},{Symbol:an}),$t(jt(mn),(function(e){Mt(e)})),ze({target:tn,stat:!0,forced:!He},{for:function(e){var t=String(e);if(x(yn,t))return yn[t];var n=an(t);return yn[t]=n,vn[n]=t,n},keyFor:function(e){if(!_n(e))throw TypeError(e+" is not a symbol");if(x(vn,e))return vn[e]},useSetter:function(){bn=!0},useSimple:function(){bn=!1}}),ze({target:"Object",stat:!0,forced:!He,sham:!p},{create:function(e,t){return void 0===t?Zt(e):kn(Zt(e),t)},defineProperty:In,defineProperties:kn,getOwnPropertyDescriptor:On}),ze({target:"Object",stat:!0,forced:!He},{getOwnPropertyNames:En,getOwnPropertySymbols:Cn}),ze({target:"Object",stat:!0,forced:h((function(){Le.f(1)}))},{getOwnPropertySymbols:function(e){return Le.f(E(e))}}),sn){var xn=!He||h((function(){var e=an();return"[null]"!=sn([e])||"{}"!=sn({a:e})||"{}"!=sn(Object(e))}));ze({target:"JSON",stat:!0,forced:xn},{stringify:function(e,t,n){for(var r,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=t,(T(t)||void 0!==e)&&!_n(e))return yt(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!_n(t))return t}),o[1]=t,sn.apply(null,o)}})}an.prototype[nn]||V(an.prototype,nn,an.prototype.valueOf),Ht(an,tn),ne[en]=!0,Mt("asyncIterator");var Rn=W.f,Ln=d.Symbol;if(p&&"function"==typeof Ln&&(!("description"in Ln.prototype)||void 0!==Ln().description)){var Un={},jn=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof jn?new Ln(e):void 0===e?Ln():Ln(e);return""===e&&(Un[t]=!0),t};je(jn,Ln);var Pn=jn.prototype=Ln.prototype;Pn.constructor=jn;var Kn=Pn.toString,An="Symbol(test)"==String(Ln("test")),Fn=/^Symbol\((.*)\)[^)]+$/;Rn(Pn,"description",{configurable:!0,get:function(){var e=T(this)?this.valueOf():this,t=Kn.call(e);if(x(Un,e))return"";var n=An?t.slice(7,-1):t.replace(Fn,"$1");return""===n?void 0:n}}),ze({global:!0,forced:!0},{Symbol:jn})}Mt("hasInstance"),Mt("isConcatSpreadable"),Mt("iterator"),Mt("match"),Mt("matchAll"),Mt("replace"),Mt("search"),Mt("species"),Mt("split"),Mt("toPrimitive"),Mt("toStringTag"),Mt("unscopables"),Ht(d.JSON,"JSON",!0),Ht(Math,"Math",!0),ze({global:!0},{Reflect:{}}),Ht(d.Reflect,"Reflect",!0),pe.Symbol;var Wn,Vn,Zn,Xn=function(e){return function(t,n){var r,o,i=String(I(t)),c=be(n),a=i.length;return c<0||c>=a?e?"":void 0:(r=i.charCodeAt(c))<55296||r>56319||c+1===a||(o=i.charCodeAt(c+1))<56320||o>57343?e?i.charAt(c):r:e?i.slice(c,c+2):o-56320+(r-55296<<10)+65536}},zn={codeAt:Xn(!1),charAt:Xn(!0)},Nn=!h((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Jn=te("IE_PROTO"),Gn=Object.prototype,Dn=Nn?Object.getPrototypeOf:function(e){return e=E(e),x(e,Jn)?e[Jn]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Gn:null},Mn=tt("iterator"),Yn=!1;[].keys&&("next"in(Zn=[].keys())?(Vn=Dn(Dn(Zn)))!==Object.prototype&&(Wn=Vn):Yn=!0),(null==Wn||h((function(){var e={};return Wn[Mn].call(e)!==e})))&&(Wn={}),x(Wn,Mn)||V(Wn,Mn,(function(){return this}));var Bn={IteratorPrototype:Wn,BUGGY_SAFARI_ITERATORS:Yn},Hn={},qn=Bn.IteratorPrototype,Qn=function(){return this},$n=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return A(n),function(e){if(!T(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),er=Bn.IteratorPrototype,tr=Bn.BUGGY_SAFARI_ITERATORS,nr=tt("iterator"),rr="keys",or="values",ir="entries",cr=function(){return this},ar=function(e,t,n,r,o,i,c){!function(e,t,n){var r=t+" Iterator";e.prototype=Zt(qn,{next:g(1,n)}),Ht(e,r,!1),Hn[r]=Qn}(n,t,r);var a,s,u,l=function(e){if(e===o&&y)return y;if(!tr&&e in h)return h[e];switch(e){case rr:case or:case ir:return function(){return new n(this,e)}}return function(){return new n(this)}},f=t+" Iterator",d=!1,h=e.prototype,p=h[nr]||h["@@iterator"]||o&&h[o],y=!tr&&p||l(o),v="Array"==t&&h.entries||p;if(v&&(a=Dn(v.call(new e)),er!==Object.prototype&&a.next&&(Dn(a)!==er&&($n?$n(a,er):"function"!=typeof a[nr]&&V(a,nr,cr)),Ht(a,f,!0))),o==or&&p&&p.name!==or&&(d=!0,y=function(){return p.call(this)}),h[nr]!==y&&V(h,nr,y),Hn[t]=y,o)if(s={values:l(or),keys:i?y:l(rr),entries:l(ir)},c)for(u in s)(tr||d||!(u in h))&&he(h,u,s[u]);else ze({target:t,proto:!0,forced:tr||d},s);return s},sr=zn.charAt,ur="String Iterator",lr=de.set,fr=de.getterFor(ur);ar(String,"String",(function(e){lr(this,{type:ur,string:String(e),index:0})}),(function(){var e,t=fr(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=sr(n,r),t.index+=e.length,{value:e,done:!1})}));var dr=function(e){var t=e.return;if(void 0!==t)return A(t.call(e)).value},hr=function(e,t,n,r){try{return r?t(A(n)[0],n[1]):t(n)}catch(t){throw dr(e),t}},pr=tt("iterator"),yr=Array.prototype,vr=function(e){return void 0!==e&&(Hn.Array===e||yr[pr]===e)},mr=tt("iterator"),gr=function(e){if(null!=e)return e[mr]||e["@@iterator"]||Hn[Rt(e)]},br=tt("iterator"),wr=!1;try{var Sr=0,_r={next:function(){return{done:!!Sr++}},return:function(){wr=!0}};_r[br]=function(){return this},Array.from(_r,(function(){throw 2}))}catch(e){}var Ir=function(e,t){if(!t&&!wr)return!1;var n=!1;try{var r={};r[br]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},kr=!Ir((function(e){Array.from(e)}));ze({target:"Array",stat:!0,forced:kr},{from:function(e){var t,n,r,o,i,c,a=E(e),s="function"==typeof this?this:Array,u=arguments.length,l=u>1?arguments[1]:void 0,f=void 0!==l,d=gr(a),h=0;if(f&&(l=dt(l,u>2?arguments[2]:void 0,2)),null==d||s==Array&&vr(d))for(n=new s(t=Se(a.length));t>h;h++)c=f?l(a[h],h):a[h],vt(n,h,c);else for(i=(o=d.call(a)).next,n=new s;!(r=i.call(o)).done;h++)c=f?hr(o,l,[r.value,h],!0):r.value,vt(n,h,c);return n.length=h,n}}),pe.Array.from;var Tr,Or="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Er=W.f,Cr=d.Int8Array,xr=Cr&&Cr.prototype,Rr=d.Uint8ClampedArray,Lr=Rr&&Rr.prototype,Ur=Cr&&Dn(Cr),jr=xr&&Dn(xr),Pr=Object.prototype,Kr=Pr.isPrototypeOf,Ar=tt("toStringTag"),Fr=$("TYPED_ARRAY_TAG"),Wr=Or&&!!$n&&"Opera"!==Rt(d.opera),Vr={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Zr={BigInt64Array:8,BigUint64Array:8},Xr=function(e){if(!T(e))return!1;var t=Rt(e);return x(Vr,t)||x(Zr,t)};for(Tr in Vr)d[Tr]||(Wr=!1);if((!Wr||"function"!=typeof Ur||Ur===Function.prototype)&&(Ur=function(){throw TypeError("Incorrect invocation")},Wr))for(Tr in Vr)d[Tr]&&$n(d[Tr],Ur);if((!Wr||!jr||jr===Pr)&&(jr=Ur.prototype,Wr))for(Tr in Vr)d[Tr]&&$n(d[Tr].prototype,jr);if(Wr&&Dn(Lr)!==jr&&$n(Lr,jr),p&&!x(jr,Ar))for(Tr in!0,Er(jr,Ar,{get:function(){return T(this)?this[Fr]:void 0}}),Vr)d[Tr]&&V(d[Tr],Fr,Tr);var zr=function(e){if(Xr(e))return e;throw TypeError("Target is not a typed array")},Nr=function(e){if($n){if(Kr.call(Ur,e))return e}else for(var t in Vr)if(x(Vr,Tr)){var n=d[t];if(n&&(e===n||Kr.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},Jr=function(e,t,n){if(p){if(n)for(var r in Vr){var o=d[r];o&&x(o.prototype,e)&&delete o.prototype[e]}jr[e]&&!n||he(jr,e,n?t:Wr&&xr[e]||t)}},Gr=tt("species"),Dr=zr,Mr=Nr,Yr=[].slice;Jr("slice",(function(e,t){for(var n=Yr.call(Dr(this),e,t),r=function(e,t){var n,r=A(e).constructor;return void 0===r||null==(n=A(r)[Gr])?t:ft(n)}(this,this.constructor),o=0,i=n.length,c=new(Mr(r))(i);i>o;)c[o]=n[o++];return c}),h((function(){new Int8Array(1).slice()})));var Br=tt("unscopables"),Hr=Array.prototype;null==Hr[Br]&&W.f(Hr,Br,{configurable:!0,value:Zt(null)});var qr=function(e){Hr[Br][e]=!0},Qr=Te.includes;ze({target:"Array",proto:!0},{includes:function(e){return Qr(this,e,arguments.length>1?arguments[1]:void 0)}}),qr("includes"),pt("Array","includes"),ze({target:"String",proto:!0,forced:!it("includes")},{includes:function(e){return!!~String(I(this)).indexOf(rt(e),arguments.length>1?arguments[1]:void 0)}}),pt("String","includes");var $r=!h((function(){return Object.isExtensible(Object.preventExtensions({}))})),eo=l((function(e){var t=W.f,n=$("meta"),r=0,o=Object.isExtensible||function(){return!0},i=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},c=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!T(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!x(e,n)){if(!o(e))return"F";if(!t)return"E";i(e)}return e[n].objectID},getWeakData:function(e,t){if(!x(e,n)){if(!o(e))return!0;if(!t)return!1;i(e)}return e[n].weakData},onFreeze:function(e){return $r&&c.REQUIRED&&o(e)&&!x(e,n)&&i(e),e}};ne[n]=!0}));eo.REQUIRED,eo.fastKey,eo.getWeakData,eo.onFreeze;var to=function(e,t){this.stopped=e,this.result=t},no=function(e,t,n){var r,o,i,c,a,s,u,l=n&&n.that,f=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),p=dt(t,l,1+f+h),y=function(e){return r&&dr(r),new to(!0,e)},v=function(e){return f?(A(e),h?p(e[0],e[1],y):p(e[0],e[1])):h?p(e,y):p(e)};if(d)r=e;else{if("function"!=typeof(o=gr(e)))throw TypeError("Target is not iterable");if(vr(o)){for(i=0,c=Se(e.length);c>i;i++)if((a=v(e[i]))&&a instanceof to)return a;return new to(!1)}r=o.call(e)}for(s=r.next;!(u=s.call(r)).done;){try{a=v(u.value)}catch(e){throw dr(r),e}if("object"==typeof a&&a&&a instanceof to)return a}return new to(!1)},ro=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},oo=function(e,t,n){for(var r in t)he(e,r,t[r],n);return e},io=tt("species"),co=W.f,ao=eo.fastKey,so=de.set,uo=de.getterFor;!function(e,t,n){var r=-1!==e.indexOf("Map"),o=-1!==e.indexOf("Weak"),i=r?"set":"add",c=d[e],a=c&&c.prototype,s=c,u={},l=function(e){var t=a[e];he(a,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(o&&!T(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return o&&!T(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(o&&!T(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(Ze(e,"function"!=typeof c||!(o||a.forEach&&!h((function(){(new c).entries().next()})))))s=n.getConstructor(t,e,r,i),eo.REQUIRED=!0;else if(Ze(e,!0)){var f=new s,p=f[i](o?{}:-0,1)!=f,y=h((function(){f.has(1)})),v=Ir((function(e){new c(e)})),m=!o&&h((function(){for(var e=new c,t=5;t--;)e[i](t,t);return!e.has(-0)}));v||((s=t((function(t,n){ro(t,s,e);var o=function(e,t,n){var r,o;return $n&&"function"==typeof(r=t.constructor)&&r!==n&&T(o=r.prototype)&&o!==n.prototype&&$n(e,o),e}(new c,t,s);return null!=n&&no(n,o[i],{that:o,AS_ENTRIES:r}),o}))).prototype=a,a.constructor=s),(y||m)&&(l("delete"),l("has"),r&&l("get")),(m||p)&&l(i),o&&a.clear&&delete a.clear}u[e]=s,ze({global:!0,forced:s!=c},u),Ht(s,e),o||n.setStrong(s,e,r)}("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(e,t,n,r){var o=e((function(e,i){ro(e,o,t),so(e,{type:t,index:Zt(null),first:void 0,last:void 0,size:0}),p||(e.size=0),null!=i&&no(i,e[r],{that:e,AS_ENTRIES:n})})),i=uo(t),c=function(e,t,n){var r,o,c=i(e),s=a(e,t);return s?s.value=n:(c.last=s={index:o=ao(t,!0),key:t,value:n,previous:r=c.last,next:void 0,removed:!1},c.first||(c.first=s),r&&(r.next=s),p?c.size++:e.size++,"F"!==o&&(c.index[o]=s)),e},a=function(e,t){var n,r=i(e),o=ao(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return oo(o.prototype,{clear:function(){for(var e=i(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,p?e.size=0:this.size=0},delete:function(e){var t=this,n=i(t),r=a(t,e);if(r){var o=r.next,c=r.previous;delete n.index[r.index],r.removed=!0,c&&(c.next=o),o&&(o.previous=c),n.first==r&&(n.first=o),n.last==r&&(n.last=c),p?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=i(this),r=dt(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!a(this,e)}}),oo(o.prototype,n?{get:function(e){var t=a(this,e);return t&&t.value},set:function(e,t){return c(this,0===e?0:e,t)}}:{add:function(e){return c(this,e=0===e?0:e,e)}}),p&&co(o.prototype,"size",{get:function(){return i(this).size}}),o},setStrong:function(e,t,n){var r=t+" Iterator",o=uo(t),i=uo(r);ar(e,t,(function(e,t){so(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),function(e){var t=ve(e),n=W.f;p&&t&&!t[io]&&n(t,io,{configurable:!0,get:function(){return this}})}(t)}});var lo={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},fo="Array Iterator",ho=de.set,po=de.getterFor(fo),yo=ar(Array,"Array",(function(e,t){ho(this,{type:fo,target:k(e),index:0,kind:t})}),(function(){var e=po(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");Hn.Arguments=Hn.Array,qr("keys"),qr("values"),qr("entries");var vo=tt("iterator"),mo=tt("toStringTag"),go=yo.values;for(var bo in lo){var wo=d[bo],So=wo&&wo.prototype;if(So){if(So[vo]!==go)try{V(So,vo,go)}catch(e){So[vo]=go}if(So[mo]||V(So,mo,bo),lo[bo])for(var _o in yo)if(So[_o]!==yo[_o])try{V(So,_o,yo[_o])}catch(e){So[_o]=yo[_o]}}}function Io(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}function ko(e){return new this((function(t,n){if(!e||void 0===e.length)return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function i(e,n){if(n&&("object"==typeof n||"function"==typeof n)){var c=n.then;if("function"==typeof c)return void c.call(n,(function(t){i(e,t)}),(function(n){r[e]={status:"rejected",reason:n},0==--o&&t(r)}))}r[e]={status:"fulfilled",value:n},0==--o&&t(r)}for(var c=0;c<r.length;c++)i(c,r[c])}))}pe.Set;var To=setTimeout;function Oo(e){return Boolean(e&&void 0!==e.length)}function Eo(){}function Co(e){if(!(this instanceof Co))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Po(e,this)}function xo(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,Co._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void Lo(t.promise,e)}Ro(t.promise,r)}else(1===e._state?Ro:Lo)(t.promise,e._value)}))):e._deferreds.push(t)}function Ro(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof Co)return e._state=3,e._value=t,void Uo(e);if("function"==typeof n)return void Po((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,Uo(e)}catch(t){Lo(e,t)}var r,o}function Lo(e,t){e._state=2,e._value=t,Uo(e)}function Uo(e){2===e._state&&0===e._deferreds.length&&Co._immediateFn((function(){e._handled||Co._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)xo(e,e._deferreds[t]);e._deferreds=null}function jo(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function Po(e,t){var n=!1;try{e((function(e){n||(n=!0,Ro(t,e))}),(function(e){n||(n=!0,Lo(t,e))}))}catch(e){if(n)return;n=!0,Lo(t,e)}}Co.prototype.catch=function(e){return this.then(null,e)},Co.prototype.then=function(e,t){var n=new this.constructor(Eo);return xo(this,new jo(e,t,n)),n},Co.prototype.finally=Io,Co.all=function(e){return new Co((function(t,n){if(!Oo(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function i(e,c){try{if(c&&("object"==typeof c||"function"==typeof c)){var a=c.then;if("function"==typeof a)return void a.call(c,(function(t){i(e,t)}),n)}r[e]=c,0==--o&&t(r)}catch(e){n(e)}}for(var c=0;c<r.length;c++)i(c,r[c])}))},Co.allSettled=ko,Co.resolve=function(e){return e&&"object"==typeof e&&e.constructor===Co?e:new Co((function(t){t(e)}))},Co.reject=function(e){return new Co((function(t,n){n(e)}))},Co.race=function(e){return new Co((function(t,n){if(!Oo(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,o=e.length;r<o;r++)Co.resolve(e[r]).then(t,n)}))},Co._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){To(e,0)},Co._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var Ko=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"function"!=typeof Ko.Promise?Ko.Promise=Co:Ko.Promise.prototype.finally?Ko.Promise.allSettled||(Ko.Promise.allSettled=ko):Ko.Promise.prototype.finally=Io,function(e){function t(){}function n(e,t){if(e=void 0===e?"utf-8":e,t=void 0===t?{fatal:!1}:t,-1===o.indexOf(e.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+e+"') is invalid.");if(t.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function r(e){for(var t=0,n=Math.min(65536,e.length+1),r=new Uint16Array(n),o=[],i=0;;){var c=t<e.length;if(!c||i>=n-1){if(o.push(String.fromCharCode.apply(null,r.subarray(0,i))),!c)return o.join("");e=e.subarray(t),i=t=0}if(0==(128&(c=e[t++])))r[i++]=c;else if(192==(224&c)){var a=63&e[t++];r[i++]=(31&c)<<6|a}else if(224==(240&c)){a=63&e[t++];var s=63&e[t++];r[i++]=(31&c)<<12|a<<6|s}else if(240==(248&c)){65535<(c=(7&c)<<18|(a=63&e[t++])<<12|(s=63&e[t++])<<6|63&e[t++])&&(c-=65536,r[i++]=c>>>10&1023|55296,c=56320|1023&c),r[i++]=c}}}if(e.TextEncoder&&e.TextDecoder)return!1;var o=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),t.prototype.encode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");t=0;for(var n=e.length,r=0,o=Math.max(32,n+(n>>>1)+7),i=new Uint8Array(o>>>3<<3);t<n;){var c=e.charCodeAt(t++);if(55296<=c&&56319>=c){if(t<n){var a=e.charCodeAt(t);56320==(64512&a)&&(++t,c=((1023&c)<<10)+(1023&a)+65536)}if(55296<=c&&56319>=c)continue}if(r+4>i.length&&(o+=8,o=(o*=1+t/e.length*2)>>>3<<3,(a=new Uint8Array(o)).set(i),i=a),0==(4294967168&c))i[r++]=c;else{if(0==(4294965248&c))i[r++]=c>>>6&31|192;else if(0==(4294901760&c))i[r++]=c>>>12&15|224,i[r++]=c>>>6&63|128;else{if(0!=(4292870144&c))continue;i[r++]=c>>>18&7|240,i[r++]=c>>>12&63|128,i[r++]=c>>>6&63|128}i[r++]=63&c|128}}return i.slice?i.slice(0,r):i.subarray(0,r)},Object.defineProperty(n.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(n.prototype,"fatal",{value:!1}),Object.defineProperty(n.prototype,"ignoreBOM",{value:!1});var i=r;"function"==typeof Buffer&&Buffer.from?i=function(e){return Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(i=function(e){var t=URL.createObjectURL(new Blob([e],{type:"text/plain;charset=UTF-8"}));try{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(),n.responseText}catch(t){return r(e)}finally{URL.revokeObjectURL(t)}}),n.prototype.decode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return e=e instanceof Uint8Array?e:e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer):new Uint8Array(e),i(e)},e.TextEncoder=t,e.TextDecoder=n}("undefined"!=typeof window?window:s),function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?a(e):t}function l(e){var t=c();return function(){var n,r=o(e);if(t){var i=o(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}function d(e,t,n){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=f(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}var h=function(){function t(){e(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(t,[{key:"addEventListener",value:function(e,t,n){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push({callback:t,options:n})}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,o=n.length;r<o;r++)if(n[r].callback===t)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners){for(var t=this.listeners[e.type].slice(),n=0,r=t.length;n<r;n++){var o=t[n];try{o.callback.call(this,e)}catch(e){Promise.resolve().then((function(){throw e}))}o.options&&o.options.once&&this.removeEventListener(e.type,o.callback)}return!e.defaultPrevented}}}]),t}(),p=function(t){r(c,t);var i=l(c);function c(){var t;return e(this,c),(t=i.call(this)).listeners||h.call(a(t)),Object.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return n(c,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),d(o(c.prototype),"dispatchEvent",this).call(this,e)}}]),c}(h),y=function(){function t(){e(this,t),Object.defineProperty(this,"signal",{value:new p,writable:!0,configurable:!0})}return n(t,[{key:"abort",value:function(){var e;try{e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();function v(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController}"undefined"!=typeof Symbol&&Symbol.toStringTag&&(y.prototype[Symbol.toStringTag]="AbortController",p.prototype[Symbol.toStringTag]="AbortSignal"),function(e){v(e)&&(e.AbortController=y,e.AbortSignal=p)}("undefined"!=typeof self?self:s)}();var Ao=l((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){var e=this;this.locked=new Map,this.addToLocked=function(t,n){var r=e.locked.get(t);void 0===r?void 0===n?e.locked.set(t,[]):e.locked.set(t,[n]):void 0!==n&&(r.unshift(n),e.locked.set(t,r))},this.isLocked=function(t){return e.locked.has(t)},this.lock=function(t){return new Promise((function(n,r){e.isLocked(t)?e.addToLocked(t,n):(e.addToLocked(t),n())}))},this.unlock=function(t){var n=e.locked.get(t);if(void 0!==n&&0!==n.length){var r=n.pop();e.locked.set(t,n),void 0!==r&&setTimeout(r,0)}else e.locked.delete(t)}}return e.getInstance=function(){return void 0===e.instance&&(e.instance=new e),e.instance},e}();t.default=function(){return n.getInstance()}}));u(Ao);var Fo=u(l((function(e,t){var n=s&&s.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function c(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(c,a)}s((r=r.apply(e,t||[])).next())}))},r=s&&s.__generator||function(e,t){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(o=c.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o="browser-tabs-lock-key";function i(e){return new Promise((function(t){return setTimeout(t,e)}))}function c(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",r=0;r<e;r++){n+=t[Math.floor(Math.random()*t.length)]}return n}var a=function(){function e(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+c(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===e.waiters&&(e.waiters=[])}return e.prototype.acquireLock=function(t,a){return void 0===a&&(a=5e3),n(this,void 0,void 0,(function(){var n,s,u,l,f,d;return r(this,(function(r){switch(r.label){case 0:n=Date.now()+c(4),s=Date.now()+a,u=o+"-"+t,l=window.localStorage,r.label=1;case 1:return Date.now()<s?[4,i(30)]:[3,8];case 2:return r.sent(),null!==l.getItem(u)?[3,5]:(f=this.id+"-"+t+"-"+n,[4,i(Math.floor(25*Math.random()))]);case 3:return r.sent(),l.setItem(u,JSON.stringify({id:this.id,iat:n,timeoutKey:f,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,i(30)];case 4:return r.sent(),null!==(d=l.getItem(u))&&(d=JSON.parse(d)).id===this.id&&d.iat===n?(this.acquiredIatSet.add(n),this.refreshLockWhileAcquired(u,n),[2,!0]):[3,7];case 5:return e.lockCorrector(),[4,this.waitForSomethingToChange(s)];case 6:r.sent(),r.label=7;case 7:return n=Date.now()+c(4),[3,1];case 8:return[2,!1]}}))}))},e.prototype.refreshLockWhileAcquired=function(e,t){return n(this,void 0,void 0,(function(){var o=this;return r(this,(function(i){return setTimeout((function(){return n(o,void 0,void 0,(function(){var n,o;return r(this,(function(r){switch(r.label){case 0:return[4,Ao.default().lock(t)];case 1:return r.sent(),this.acquiredIatSet.has(t)?(n=window.localStorage,null===(o=n.getItem(e))?(Ao.default().unlock(t),[2]):((o=JSON.parse(o)).timeRefreshed=Date.now(),n.setItem(e,JSON.stringify(o)),Ao.default().unlock(t),this.refreshLockWhileAcquired(e,t),[2])):(Ao.default().unlock(t),[2])}}))}))}),1e3),[2]}))}))},e.prototype.waitForSomethingToChange=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){var r=!1,o=Date.now(),i=!1;function c(){if(i||(window.removeEventListener("storage",c),e.removeFromWaiting(c),clearTimeout(a),i=!0),!r){r=!0;var t=50-(Date.now()-o);t>0?setTimeout(n,t):n()}}window.addEventListener("storage",c),e.addToWaiting(c);var a=setTimeout(c,Math.max(0,t-Date.now()))}))];case 1:return n.sent(),[2]}}))}))},e.addToWaiting=function(t){this.removeFromWaiting(t),void 0!==e.waiters&&e.waiters.push(t)},e.removeFromWaiting=function(t){void 0!==e.waiters&&(e.waiters=e.waiters.filter((function(e){return e!==t})))},e.notifyWaiters=function(){void 0!==e.waiters&&e.waiters.slice().forEach((function(e){return e()}))},e.prototype.releaseLock=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.releaseLock__private__(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.releaseLock__private__=function(t){return n(this,void 0,void 0,(function(){var n,i,c;return r(this,(function(r){switch(r.label){case 0:return n=window.localStorage,i=o+"-"+t,null===(c=n.getItem(i))?[2]:(c=JSON.parse(c)).id!==this.id?[3,2]:[4,Ao.default().lock(c.iat)];case 1:r.sent(),this.acquiredIatSet.delete(c.iat),n.removeItem(i),Ao.default().unlock(c.iat),e.notifyWaiters(),r.label=2;case 2:return[2]}}))}))},e.lockCorrector=function(){for(var t=Date.now()-5e3,n=window.localStorage,r=Object.keys(n),i=!1,c=0;c<r.length;c++){var a=r[c];if(a.includes(o)){var s=n.getItem(a);null!==s&&(void 0===(s=JSON.parse(s)).timeRefreshed&&s.timeAcquired<t||void 0!==s.timeRefreshed&&s.timeRefreshed<t)&&(n.removeItem(a),i=!0)}}i&&e.notifyWaiters()},e.waiters=void 0,e}();t.default=a}))),Wo={timeoutInSeconds:60},Vo="memory",Zo=["login_required","consent_required","interaction_required","account_selection_required","access_denied"],Xo={name:"auth0-spa-js",version:"1.16.0"},zo=function(e){function n(t,r){var o=e.call(this,r)||this;return o.error=t,o.error_description=r,Object.setPrototypeOf(o,n.prototype),o}return t(n,e),n.fromPayload=function(e){return new n(e.error,e.error_description)},n}(Error),No=function(e){function n(t,r,o,i){void 0===i&&(i=null);var c=e.call(this,t,r)||this;return c.state=o,c.appState=i,Object.setPrototypeOf(c,n.prototype),c}return t(n,e),n}(zo),Jo=function(e){function n(){var t=e.call(this,"timeout","Timeout")||this;return Object.setPrototypeOf(t,n.prototype),t}return t(n,e),n}(zo),Go=function(e){function n(t){var r=e.call(this)||this;return r.popup=t,Object.setPrototypeOf(r,n.prototype),r}return t(n,e),n}(Jo),Do=function(e){function n(t){var r=e.call(this,"cancelled","Popup closed")||this;return r.popup=t,Object.setPrototypeOf(r,n.prototype),r}return t(n,e),n}(zo),Mo=function(e){return new Promise((function(t,n){var r,o=setInterval((function(){e.popup&&e.popup.closed&&(clearInterval(o),clearTimeout(i),window.removeEventListener("message",r,!1),n(new Do(e.popup)))}),1e3),i=setTimeout((function(){clearInterval(o),n(new Go(e.popup)),window.removeEventListener("message",r,!1)}),1e3*(e.timeoutInSeconds||60));r=function(c){if(c.data&&"authorization_response"===c.data.type){if(clearTimeout(i),clearInterval(o),window.removeEventListener("message",r,!1),e.popup.close(),c.data.response.error)return n(zo.fromPayload(c.data.response));t(c.data.response)}},window.addEventListener("message",r)}))},Yo=function(){return window.crypto||window.msCrypto},Bo=function(){var e=Yo();return e.subtle||e.webkitSubtle},Ho=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",t="";return Array.from(Yo().getRandomValues(new Uint8Array(43))).forEach((function(n){return t+=e[n%e.length]})),t},qo=function(e){return btoa(e)},Qo=function(e){return Object.keys(e).filter((function(t){return void 0!==e[t]})).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},$o=function(e){return o(void 0,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return t=Bo().digest({name:"SHA-256"},(new TextEncoder).encode(e)),window.msCrypto?[2,new Promise((function(e,n){t.oncomplete=function(t){e(t.target.result)},t.onerror=function(e){n(e.error)},t.onabort=function(){n("The digest operation was aborted")}}))]:[4,t];case 1:return[2,n.sent()]}}))}))},ei=function(e){return function(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(e.replace(/_/g,"/").replace(/-/g,"+"))},ti=function(e){var t=new Uint8Array(e);return function(e){var t={"+":"-","/":"_","=":""};return e.replace(/[+/=]/g,(function(e){return t[e]}))}(window.btoa(String.fromCharCode.apply(String,a([],c(Array.from(t))))))};var ni=function(e,t){return o(void 0,void 0,void 0,(function(){var n,r;return i(this,(function(o){switch(o.label){case 0:return[4,(i=e,c=t,c=c||{},new Promise((function(e,t){var n=new XMLHttpRequest,r=[],o=[],a={},s=function(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(n.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:s,headers:{keys:function(){return r},entries:function(){return o},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}};for(var u in n.open(c.method||"get",i,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){r.push(t=t.toLowerCase()),o.push([t,n]),a[t]=a[t]?a[t]+","+n:n})),e(s())},n.onerror=t,n.withCredentials="include"==c.credentials,c.headers)n.setRequestHeader(u,c.headers[u]);n.send(c.body||null)})))];case 1:return n=o.sent(),r={ok:n.ok},[4,n.json()];case 2:return[2,(r.json=o.sent(),r)]}var i,c}))}))},ri=function(e,t,n){return o(void 0,void 0,void 0,(function(){var r,o;return i(this,(function(i){return r=new AbortController,t.signal=r.signal,[2,Promise.race([ni(e,t),new Promise((function(e,t){o=setTimeout((function(){r.abort(),t(new Error("Timeout when executing 'fetch'"))}),n)}))]).finally((function(){clearTimeout(o)}))]}))}))},oi=function(e,t,n,r,c,a){return o(void 0,void 0,void 0,(function(){return i(this,(function(o){return[2,(i={auth:{audience:t,scope:n},timeout:c,fetchUrl:e,fetchOptions:r},s=a,new Promise((function(e,t){var n=new MessageChannel;n.port1.onmessage=function(n){n.data.error?t(new Error(n.data.error)):e(n.data)},s.postMessage(i,[n.port2])})))];var i,s}))}))},ii=function(e,t,n,r,c,a){return void 0===a&&(a=1e4),o(void 0,void 0,void 0,(function(){return i(this,(function(o){return c?[2,oi(e,t,n,r,a,c)]:[2,ri(e,r,a)]}))}))};function ci(e,t,n,c,a,s){return o(this,void 0,void 0,(function(){var o,u,l,f,d,h,p,y;return i(this,(function(i){switch(i.label){case 0:o=null,l=0,i.label=1;case 1:if(!(l<3))return[3,6];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,ii(e,n,c,a,s,t)];case 3:return u=i.sent(),o=null,[3,6];case 4:return f=i.sent(),o=f,[3,5];case 5:return l++,[3,1];case 6:if(o)throw o.message=o.message||"Failed to fetch",o;if(d=u.json,h=d.error,p=d.error_description,y=r(d,["error","error_description"]),!u.ok)throw new zo(h||"request_error",p||"HTTP error. Unable to fetch "+e);return[2,y]}}))}))}function ai(e,t){var n=e.baseUrl,c=e.timeout,a=e.audience,s=e.scope,u=e.auth0Client,l=r(e,["baseUrl","timeout","audience","scope","auth0Client"]);return o(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,ci(n+"/oauth/token",c,a||"default",s,{method:"POST",body:JSON.stringify(l),headers:{"Content-type":"application/json","Auth0-Client":btoa(JSON.stringify(u||Xo))}},t)];case 1:return[2,e.sent()]}}))}))}var si=function(e){return Array.from(new Set(e))},ui=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return si(e.join(" ").trim().split(/\s+/)).join(" ")},li="@@auth0spajs@@",fi=function(){function e(e,t){void 0===t&&(t=li),this.prefix=t,this.client_id=e.client_id,this.scope=e.scope,this.audience=e.audience}return e.prototype.toKey=function(){return this.prefix+"::"+this.client_id+"::"+this.audience+"::"+this.scope},e.fromKey=function(t){var n=c(t.split("::"),4),r=n[0],o=n[1],i=n[2];return new e({client_id:o,scope:n[3],audience:i},r)},e.fromCacheEntry=function(t){return new e({scope:t.scope,audience:t.audience,client_id:t.client_id})},e}(),di=function(){function e(){}return e.prototype.set=function(e,t){return localStorage.setItem(e,JSON.stringify(t)),Promise.resolve()},e.prototype.get=function(e){var t=window.localStorage.getItem(e);if(!t)return Promise.resolve(null);try{var n=JSON.parse(t);return Promise.resolve(n)}catch(e){return Promise.resolve(null)}},e.prototype.remove=function(e){return localStorage.removeItem(e),Promise.resolve()},e.prototype.allKeys=function(){return Promise.resolve(Object.keys(window.localStorage).filter((function(e){return e.startsWith(li)})))},e}(),hi=function(){var e;this.enclosedCache=(e={},{set:function(t,n){return e[t]=n,Promise.resolve()},get:function(t){var n=e[t];return n?Promise.resolve(n):Promise.resolve(null)},remove:function(t){return delete e[t],Promise.resolve()},allKeys:function(){return Promise.resolve(Object.keys(e))}})},pi=function(){function e(e,t){this.cache=e,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(t)}return e.prototype.add=function(e){var t;return o(this,void 0,void 0,(function(){var n,r;return i(this,(function(o){switch(o.label){case 0:return r=Set.bind,[4,this.cache.get(this.manifestKey)];case 1:return(n=new(r.apply(Set,[void 0,(null===(t=o.sent())||void 0===t?void 0:t.keys)||[]]))).add(e),[4,this.cache.set(this.manifestKey,{keys:a([],c(n))})];case 2:return o.sent(),[2]}}))}))},e.prototype.remove=function(e){return o(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return[4,this.cache.get(this.manifestKey)];case 1:return(t=r.sent())?((n=new Set(t.keys)).delete(e),n.size>0?[4,this.cache.set(this.manifestKey,{keys:a([],c(n))})]:[3,3]):[3,5];case 2:return[2,r.sent()];case 3:return[4,this.cache.remove(this.manifestKey)];case 4:return[2,r.sent()];case 5:return[2]}}))}))},e.prototype.get=function(){return this.cache.get(this.manifestKey)},e.prototype.clear=function(){return this.cache.remove(this.manifestKey)},e.prototype.createManifestKeyFrom=function(e){return"@@auth0spajs@@::"+e},e}(),yi=function(){function e(e,t){this.cache=e,e.allKeys||(this.keyManifest=new pi(this.cache,t))}return e.prototype.get=function(e,t){var n;return void 0===t&&(t=0),o(this,void 0,void 0,(function(){var r,o,c,a;return i(this,(function(i){switch(i.label){case 0:return[4,this.cache.get(e.toKey())];case 1:return(r=i.sent())?[3,4]:[4,this.getCacheKeys()];case 2:return(o=i.sent())?(c=this.matchExistingCacheKey(e,o),[4,this.cache.get(c)]):[2];case 3:r=i.sent(),i.label=4;case 4:return r?(a=Math.floor(Date.now()/1e3),r.expiresAt-t<a?r.body.refresh_token?(r.body={refresh_token:r.body.refresh_token},[4,this.cache.set(e.toKey(),r)]):[3,6]:[3,9]):[2];case 5:return i.sent(),[2,r.body];case 6:return[4,this.cache.remove(e.toKey())];case 7:return i.sent(),[4,null===(n=this.keyManifest)||void 0===n?void 0:n.remove(e.toKey())];case 8:return i.sent(),[2];case 9:return[2,r.body]}}))}))},e.prototype.set=function(e){var t;return o(this,void 0,void 0,(function(){var n,r;return i(this,(function(o){switch(o.label){case 0:return n=new fi({client_id:e.client_id,scope:e.scope,audience:e.audience}),r=this.wrapCacheEntry(e),[4,this.cache.set(n.toKey(),r)];case 1:return o.sent(),[4,null===(t=this.keyManifest)||void 0===t?void 0:t.add(n.toKey())];case 2:return o.sent(),[2]}}))}))},e.prototype.clear=function(){var e;return o(this,void 0,void 0,(function(){var t,n=this;return i(this,(function(r){switch(r.label){case 0:return[4,this.getCacheKeys()];case 1:return(t=r.sent())?(t.forEach((function(e){return o(n,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.cache.remove(e)];case 1:return t.sent(),[2]}}))}))})),[4,null===(e=this.keyManifest)||void 0===e?void 0:e.clear()]):[2];case 2:return r.sent(),[2]}}))}))},e.prototype.wrapCacheEntry=function(e){var t=Math.floor(Date.now()/1e3)+e.expires_in;return{body:e,expiresAt:Math.min(t,e.decodedToken.claims.exp)}},e.prototype.getCacheKeys=function(){var e;return o(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return this.keyManifest?[4,this.keyManifest.get()]:[3,2];case 1:return t=null===(e=n.sent())||void 0===e?void 0:e.keys,[3,4];case 2:return[4,this.cache.allKeys()];case 3:t=n.sent(),n.label=4;case 4:return[2,t]}}))}))},e.prototype.matchExistingCacheKey=function(e,t){return t.filter((function(t){var n=fi.fromKey(t),r=new Set(n.scope&&n.scope.split(" ")),o=e.scope.split(" "),i=n.scope&&o.reduce((function(e,t){return e&&r.has(t)}),!0);return n.prefix===li&&n.client_id===e.client_id&&n.audience===e.audience&&i}))[0]},e}(),vi="a0.spajs.txs",mi=function(){function e(e){this.storage=e,this.transaction=this.storage.get(vi)}return e.prototype.create=function(e){this.transaction=e,this.storage.save(vi,e,{daysUntilExpire:1})},e.prototype.get=function(){return this.transaction},e.prototype.remove=function(){delete this.transaction,this.storage.remove(vi)},e}(),gi=function(e){return"number"==typeof e},bi=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],wi=function(e){if(!e.id_token)throw new Error("ID token is required but missing");var t=function(e){var t=e.split("."),n=c(t,3),r=n[0],o=n[1],i=n[2];if(3!==t.length||!r||!o||!i)throw new Error("ID token could not be decoded");var a=JSON.parse(ei(o)),s={__raw:e},u={};return Object.keys(a).forEach((function(e){s[e]=a[e],bi.includes(e)||(u[e]=a[e])})),{encoded:{header:r,payload:o,signature:i},header:JSON.parse(ei(r)),claims:s,user:u}}(e.id_token);if(!t.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(t.claims.iss!==e.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'+e.iss+'", found "'+t.claims.iss+'"');if(!t.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==t.header.alg)throw new Error('Signature algorithm of "'+t.header.alg+'" is not supported. Expected the ID token to be signed with "RS256".');if(!t.claims.aud||"string"!=typeof t.claims.aud&&!Array.isArray(t.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+e.aud+'" but was not one of "'+t.claims.aud.join(", ")+'"');if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(t.claims.azp!==e.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'+e.aud+'", found "'+t.claims.azp+'"')}}else if(t.claims.aud!==e.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+e.aud+'" but found "'+t.claims.aud+'"');if(e.nonce){if(!t.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(t.claims.nonce!==e.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'+e.nonce+'", found "'+t.claims.nonce+'"')}if(e.max_age&&!gi(t.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(!gi(t.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!gi(t.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");var n=e.leeway||60,r=new Date(Date.now()),o=new Date(0),i=new Date(0),a=new Date(0);if(a.setUTCSeconds(parseInt(t.claims.auth_time)+e.max_age+n),o.setUTCSeconds(t.claims.exp+n),i.setUTCSeconds(t.claims.nbf-n),r>o)throw new Error("Expiration Time (exp) claim error in the ID token; current time ("+r+") is after expiration time ("+o+")");if(gi(t.claims.nbf)&&r<i)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time ("+r+") is before "+i);if(gi(t.claims.auth_time)&&r>a)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time ("+r+") is after last auth at "+a);if(e.organizationId){if(!t.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(e.organizationId!==t.claims.org_id)throw new Error('Organization ID (org_id) claim mismatch in the ID token; expected "'+e.organizationId+'", found "'+t.claims.org_id+'"')}return t},Si=l((function(e,t){var n=s&&s.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function r(e,t){if(!t)return"";var n="; "+e;return!0===t?n:n+"="+t}function o(e,t,n){return encodeURIComponent(e).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(t).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(e){if("number"==typeof e.expires){var t=new Date;t.setMilliseconds(t.getMilliseconds()+864e5*e.expires),e.expires=t}return r("Expires",e.expires?e.expires.toUTCString():"")+r("Domain",e.domain)+r("Path",e.path)+r("Secure",e.secure)+r("SameSite",e.sameSite)}(n)}function i(e){for(var t={},n=e?e.split("; "):[],r=/(%[\dA-F]{2})+/gi,o=0;o<n.length;o++){var i=n[o].split("="),c=i.slice(1).join("=");'"'===c.charAt(0)&&(c=c.slice(1,-1));try{t[i[0].replace(r,decodeURIComponent)]=c.replace(r,decodeURIComponent)}catch(e){}}return t}function c(){return i(document.cookie)}function a(e,t,r){document.cookie=o(e,t,n({path:"/"},r))}t.__esModule=!0,t.encode=o,t.parse=i,t.getAll=c,t.get=function(e){return c()[e]},t.set=a,t.remove=function(e,t){a(e,"",n(n({},t),{expires:-1}))}}));u(Si),Si.encode,Si.parse,Si.getAll;var _i=Si.get,Ii=Si.set,ki=Si.remove,Ti={get:function(e){var t=_i(e);if(void 0!==t)return JSON.parse(t)},save:function(e,t,n){var r={};"https:"===window.location.protocol&&(r={secure:!0,sameSite:"none"}),r.expires=n.daysUntilExpire,Ii(e,JSON.stringify(t),r)},remove:function(e){ki(e)}},Oi={get:function(e){var t=Ti.get(e);return t||Ti.get("_legacy_"+e)},save:function(e,t,n){var r={};"https:"===window.location.protocol&&(r={secure:!0}),r.expires=n.daysUntilExpire,Ii("_legacy_"+e,JSON.stringify(t),r),Ti.save(e,t,n)},remove:function(e){Ti.remove(e),Ti.remove("_legacy_"+e)}},Ei={get:function(e){if("undefined"!=typeof sessionStorage){var t=sessionStorage.getItem(e);if(void 0!==t)return JSON.parse(t)}},save:function(e,t){sessionStorage.setItem(e,JSON.stringify(t))},remove:function(e){sessionStorage.removeItem(e)}};function Ci(e,t,n){var r=void 0===t?null:t,o=function(e,t){var n=atob(e);if(t){for(var r=new Uint8Array(n.length),o=0,i=n.length;o<i;++o)r[o]=n.charCodeAt(o);return String.fromCharCode.apply(null,new Uint16Array(r.buffer))}return n}(e,void 0!==n&&n),i=o.indexOf("\n",10)+1,c=o.substring(i)+(r?"//# sourceMappingURL="+r:""),a=new Blob([c],{type:"application/javascript"});return URL.createObjectURL(a)}var xi,Ri,Li,Ui,ji=(xi="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Ci8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uCgogICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55CiAgICBwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuCgogICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEgKICAgIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWQogICAgQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULAogICAgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NCiAgICBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUgogICAgT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUgogICAgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS4KICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsdD0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWZvcih2YXIgbyBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHIoZSxyLHQsbil7cmV0dXJuIG5ldyh0fHwodD1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8scyl7ZnVuY3Rpb24gYShlKXt0cnl7dShuLm5leHQoZSkpfWNhdGNoKGUpe3MoZSl9fWZ1bmN0aW9uIGkoZSl7dHJ5e3Uobi50aHJvdyhlKSl9Y2F0Y2goZSl7cyhlKX19ZnVuY3Rpb24gdShlKXt2YXIgcjtlLmRvbmU/byhlLnZhbHVlKToocj1lLnZhbHVlLHIgaW5zdGFuY2VvZiB0P3I6bmV3IHQoKGZ1bmN0aW9uKGUpe2Uocil9KSkpLnRoZW4oYSxpKX11KChuPW4uYXBwbHkoZSxyfHxbXSkpLm5leHQoKSl9KSl9ZnVuY3Rpb24gdChlLHIpe3ZhciB0LG4sbyxzLGE9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIHM9e25leHQ6aSgwKSx0aHJvdzppKDEpLHJldHVybjppKDIpfSwiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYoc1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxzO2Z1bmN0aW9uIGkocyl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBmdW5jdGlvbihzKXtpZih0KXRocm93IG5ldyBUeXBlRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy4iKTtmb3IoO2E7KXRyeXtpZih0PTEsbiYmKG89MiZzWzBdP24ucmV0dXJuOnNbMF0/bi50aHJvd3x8KChvPW4ucmV0dXJuKSYmby5jYWxsKG4pLDApOm4ubmV4dCkmJiEobz1vLmNhbGwobixzWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2gobj0wLG8mJihzPVsyJnNbMF0sby52YWx1ZV0pLHNbMF0pe2Nhc2UgMDpjYXNlIDE6bz1zO2JyZWFrO2Nhc2UgNDpyZXR1cm4gYS5sYWJlbCsrLHt2YWx1ZTpzWzFdLGRvbmU6ITF9O2Nhc2UgNTphLmxhYmVsKyssbj1zWzFdLHM9WzBdO2NvbnRpbnVlO2Nhc2UgNzpzPWEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz1hLnRyeXMsKG89by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSl8fDYhPT1zWzBdJiYyIT09c1swXSkpe2E9MDtjb250aW51ZX1pZigzPT09c1swXSYmKCFvfHxzWzFdPm9bMF0mJnNbMV08b1szXSkpe2EubGFiZWw9c1sxXTticmVha31pZig2PT09c1swXSYmYS5sYWJlbDxvWzFdKXthLmxhYmVsPW9bMV0sbz1zO2JyZWFrfWlmKG8mJmEubGFiZWw8b1syXSl7YS5sYWJlbD1vWzJdLGEub3BzLnB1c2gocyk7YnJlYWt9b1syXSYmYS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlfXM9ci5jYWxsKGUsYSl9Y2F0Y2goZSl7cz1bNixlXSxuPTB9ZmluYWxseXt0PW89MH1pZig1JnNbMF0pdGhyb3cgc1sxXTtyZXR1cm57dmFsdWU6c1swXT9zWzFdOnZvaWQgMCxkb25lOiEwfX0oW3MsaV0pfX19dmFyIG49e30sbz1mdW5jdGlvbihlLHIpe3JldHVybiBlKyJ8IityfTthZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoZnVuY3Rpb24ocyl7dmFyIGE9cy5kYXRhLGk9YS50aW1lb3V0LHU9YS5hdXRoLGM9YS5mZXRjaFVybCxsPWEuZmV0Y2hPcHRpb25zLGY9ZnVuY3Rpb24oZSxyKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl07aWYoIXQpcmV0dXJuIGU7dmFyIG4sbyxzPXQuY2FsbChlKSxhPVtdO3RyeXtmb3IoOyh2b2lkIDA9PT1yfHxyLS0gPjApJiYhKG49cy5uZXh0KCkpLmRvbmU7KWEucHVzaChuLnZhbHVlKX1jYXRjaChlKXtvPXtlcnJvcjplfX1maW5hbGx5e3RyeXtuJiYhbi5kb25lJiYodD1zLnJldHVybikmJnQuY2FsbChzKX1maW5hbGx5e2lmKG8pdGhyb3cgby5lcnJvcn19cmV0dXJuIGF9KHMucG9ydHMsMSlbMF07cmV0dXJuIHIodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHIscyxhLGgscCx5LGIsdixkLHc7cmV0dXJuIHQodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDphPShzPXV8fHt9KS5hdWRpZW5jZSxoPXMuc2NvcGUsdC5sYWJlbD0xO2Nhc2UgMTppZih0LnRyeXMucHVzaChbMSw3LCw4XSksIShwPUpTT04ucGFyc2UobC5ib2R5KSkucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09cC5ncmFudF90eXBlKXtpZighKHk9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gbltvKGUscildfShhLGgpKSl0aHJvdyBuZXcgRXJyb3IoIlRoZSB3ZWIgd29ya2VyIGlzIG1pc3NpbmcgdGhlIHJlZnJlc2ggdG9rZW4iKTtsLmJvZHk9SlNPTi5zdHJpbmdpZnkoZShlKHt9LHApLHtyZWZyZXNoX3Rva2VuOnl9KSl9Yj12b2lkIDAsImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGI9bmV3IEFib3J0Q29udHJvbGxlcixsLnNpZ25hbD1iLnNpZ25hbCksdj12b2lkIDAsdC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gdC50cnlzLnB1c2goWzIsNCwsNV0pLFs0LFByb21pc2UucmFjZShbKGc9aSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHNldFRpbWVvdXQoZSxnKX0pKSksZmV0Y2goYyxlKHt9LGwpKV0pXTtjYXNlIDM6cmV0dXJuIHY9dC5zZW50KCksWzMsNV07Y2FzZSA0OnJldHVybiBkPXQuc2VudCgpLGYucG9zdE1lc3NhZ2Uoe2Vycm9yOmQubWVzc2FnZX0pLFsyXTtjYXNlIDU6cmV0dXJuIHY/WzQsdi5qc29uKCldOihiJiZiLmFib3J0KCksZi5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KSxbMl0pO2Nhc2UgNjpyZXR1cm4ocj10LnNlbnQoKSkucmVmcmVzaF90b2tlbj8oZnVuY3Rpb24oZSxyLHQpe25bbyhyLHQpXT1lfShyLnJlZnJlc2hfdG9rZW4sYSxoKSxkZWxldGUgci5yZWZyZXNoX3Rva2VuKTpmdW5jdGlvbihlLHIpe2RlbGV0ZSBuW28oZSxyKV19KGEsaCksZi5wb3N0TWVzc2FnZSh7b2s6di5vayxqc29uOnJ9KSxbMyw4XTtjYXNlIDc6cmV0dXJuIHc9dC5zZW50KCksZi5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3JfZGVzY3JpcHRpb246dy5tZXNzYWdlfX0pLFszLDhdO2Nhc2UgODpyZXR1cm5bMl19dmFyIGd9KSl9KSl9KSl9KCk7Cgo=",Ri=null,Li=!1,function(e){return Ui=Ui||Ci(xi,Ri,Li),new Worker(Ui,e)}),Pi={},Ki=new Fo,Ai="auth0.lock.getTokenSilently",Fi={memory:function(){return(new hi).enclosedCache},localstorage:function(){return new di}},Wi=function(e){return Fi[e]},Vi=function(){return!/Trident.*rv:11\.0/.test(navigator.userAgent)},Zi=function(){function e(e){var t,n,o;if(this.options=e,"undefined"!=typeof window&&function(){if(!Yo())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===Bo())throw new Error("\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\n    ")}(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)o=e.cache;else{if(this.cacheLocation=e.cacheLocation||Vo,!Wi(this.cacheLocation))throw new Error('Invalid cache location "'+this.cacheLocation+'"');o=Wi(this.cacheLocation)()}this.cookieStorage=!1===e.legacySameSiteCookie?Ti:Oi,this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;var i,c,a=e.useCookiesForTransactions?this.cookieStorage:Ei;this.scope=this.options.scope,this.transactionManager=new mi(a),this.cacheManager=new yi(o,this.options.client_id),this.domainUrl="https://"+this.options.domain,this.tokenIssuer=(i=this.options.issuer,c=this.domainUrl,i?i.startsWith("https://")?i:"https://"+i+"/":c+"/"),this.defaultScope=ui("openid",void 0!==(null===(n=null===(t=this.options)||void 0===t?void 0:t.advancedOptions)||void 0===n?void 0:n.defaultScope)?this.options.advancedOptions.defaultScope:"openid profile email"),this.options.useRefreshTokens&&(this.scope=ui(this.scope,"offline_access")),"undefined"!=typeof window&&window.Worker&&this.options.useRefreshTokens&&this.cacheLocation===Vo&&Vi()&&(this.worker=new ji),this.customOptions=function(e){return e.advancedOptions,e.audience,e.auth0Client,e.authorizeTimeoutInSeconds,e.cacheLocation,e.client_id,e.domain,e.issuer,e.leeway,e.max_age,e.redirect_uri,e.scope,e.useRefreshTokens,r(e,["advancedOptions","audience","auth0Client","authorizeTimeoutInSeconds","cacheLocation","client_id","domain","issuer","leeway","max_age","redirect_uri","scope","useRefreshTokens"])}(e)}return e.prototype._url=function(e){var t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||Xo)));return""+this.domainUrl+e+"&auth0Client="+t},e.prototype._getParams=function(e,t,o,i,c){var a=this.options;a.domain,a.leeway,a.useRefreshTokens,a.useCookiesForTransactions,a.auth0Client,a.cacheLocation,a.advancedOptions;var s=r(a,["domain","leeway","useRefreshTokens","useCookiesForTransactions","auth0Client","cacheLocation","advancedOptions"]);return n(n(n({},s),e),{scope:ui(this.defaultScope,this.scope,e.scope),response_type:"code",response_mode:"query",state:t,nonce:o,redirect_uri:c||this.options.redirect_uri,code_challenge:i,code_challenge_method:"S256"})},e.prototype._authorizeUrl=function(e){return this._url("/authorize?"+Qo(e))},e.prototype._verifyIdToken=function(e,t,n){return wi({iss:this.tokenIssuer,aud:this.options.client_id,id_token:e,nonce:t,organizationId:n,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age)})},e.prototype._parseNumber=function(e){return"string"!=typeof e?e:parseInt(e,10)||void 0},e.prototype.buildAuthorizeUrl=function(e){return void 0===e&&(e={}),o(this,void 0,void 0,(function(){var t,o,c,a,s,u,l,f,d,h,p,y;return i(this,(function(i){switch(i.label){case 0:return t=e.redirect_uri,o=e.appState,c=r(e,["redirect_uri","appState"]),a=qo(Ho()),s=qo(Ho()),u=Ho(),[4,$o(u)];case 1:return l=i.sent(),f=ti(l),d=e.fragment?"#"+e.fragment:"",h=this._getParams(c,a,s,f,t),p=this._authorizeUrl(h),y=e.organization||this.options.organization,this.transactionManager.create(n({nonce:s,code_verifier:u,appState:o,scope:h.scope,audience:h.audience||"default",redirect_uri:h.redirect_uri},y&&{organizationId:y})),[2,p+d]}}))}))},e.prototype.loginWithPopup=function(e,t){return o(this,void 0,void 0,(function(){var o,c,a,s,u,l,f,d,h,p,y,v,m;return i(this,(function(i){switch(i.label){case 0:return e=e||{},(t=t||{}).popup||(t.popup=function(e){var t=window.screenX+(window.innerWidth-400)/2,n=window.screenY+(window.innerHeight-600)/2;return window.open(e,"auth0:authorize:popup","left="+t+",top="+n+",width=400,height=600,resizable,scrollbars=yes,status=1")}("")),o=r(e,[]),c=qo(Ho()),a=qo(Ho()),s=Ho(),[4,$o(s)];case 1:return u=i.sent(),l=ti(u),f=this._getParams(o,c,a,l,this.options.redirect_uri||window.location.origin),d=this._authorizeUrl(n(n({},f),{response_mode:"web_message"})),t.popup.location.href=d,[4,Mo(n(n({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}))];case 2:if(h=i.sent(),c!==h.state)throw new Error("Invalid state");return[4,ai({audience:f.audience,scope:f.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:s,code:h.code,grant_type:"authorization_code",redirect_uri:f.redirect_uri,auth0Client:this.options.auth0Client},this.worker)];case 3:return p=i.sent(),y=e.organization||this.options.organization,v=this._verifyIdToken(p.id_token,a,y),m=n(n({},p),{decodedToken:v,scope:f.scope,audience:f.audience||"default",client_id:this.options.client_id}),[4,this.cacheManager.set(m)];case 4:return i.sent(),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2]}}))}))},e.prototype.getUser=function(e){return void 0===e&&(e={}),o(this,void 0,void 0,(function(){var t,n,r;return i(this,(function(o){switch(o.label){case 0:return t=e.audience||this.options.audience||"default",n=ui(this.defaultScope,this.scope,e.scope),[4,this.cacheManager.get(new fi({client_id:this.options.client_id,audience:t,scope:n}))];case 1:return[2,(r=o.sent())&&r.decodedToken&&r.decodedToken.user]}}))}))},e.prototype.getIdTokenClaims=function(e){return void 0===e&&(e={}),o(this,void 0,void 0,(function(){var t,n,r;return i(this,(function(o){switch(o.label){case 0:return t=e.audience||this.options.audience||"default",n=ui(this.defaultScope,this.scope,e.scope),[4,this.cacheManager.get(new fi({client_id:this.options.client_id,audience:t,scope:n}))];case 1:return[2,(r=o.sent())&&r.decodedToken&&r.decodedToken.claims]}}))}))},e.prototype.loginWithRedirect=function(e){return void 0===e&&(e={}),o(this,void 0,void 0,(function(){var t,n,o;return i(this,(function(i){switch(i.label){case 0:return t=e.redirectMethod,n=r(e,["redirectMethod"]),[4,this.buildAuthorizeUrl(n)];case 1:return o=i.sent(),window.location[t||"assign"](o),[2]}}))}))},e.prototype.handleRedirectCallback=function(e){return void 0===e&&(e=window.location.href),o(this,void 0,void 0,(function(){var t,r,o,a,s,u,l,f,d,h,p;return i(this,(function(i){switch(i.label){case 0:if(0===(t=e.split("?").slice(1)).length)throw new Error("There are no query params available for parsing.");if(r=function(e){e.indexOf("#")>-1&&(e=e.substr(0,e.indexOf("#")));var t=e.split("&"),r={};return t.forEach((function(e){var t=c(e.split("="),2),n=t[0],o=t[1];r[n]=decodeURIComponent(o)})),n(n({},r),{expires_in:parseInt(r.expires_in)})}(t.join("")),o=r.state,a=r.code,s=r.error,u=r.error_description,!(l=this.transactionManager.get())||!l.code_verifier)throw new Error("Invalid state");if(this.transactionManager.remove(),s)throw new No(s,u,o,l.appState);return f={audience:l.audience,scope:l.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:l.code_verifier,grant_type:"authorization_code",code:a,auth0Client:this.options.auth0Client},void 0!==l.redirect_uri&&(f.redirect_uri=l.redirect_uri),[4,ai(f,this.worker)];case 1:return d=i.sent(),h=this._verifyIdToken(d.id_token,l.nonce,l.organizationId),p=n(n({},d),{decodedToken:h,audience:l.audience,scope:l.scope,client_id:this.options.client_id}),[4,this.cacheManager.set(p)];case 2:return i.sent(),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2,{appState:l.appState}]}}))}))},e.prototype.checkSession=function(e){return o(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:if(!this.cookieStorage.get("auth0.is.authenticated"))return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.getTokenSilently(e)];case 2:return n.sent(),[3,4];case 3:if(t=n.sent(),!Zo.includes(t.error))throw t;return[3,4];case 4:return[2]}}))}))},e.prototype.getTokenSilently=function(e){return void 0===e&&(e={}),o(this,void 0,void 0,(function(){var t,o,c,a=this;return i(this,(function(i){return t=n(n({audience:this.options.audience,ignoreCache:!1},e),{scope:ui(this.defaultScope,this.scope,e.scope)}),o=t.ignoreCache,c=r(t,["ignoreCache"]),[2,(s=function(){return a._getTokenSilently(n({ignoreCache:o},c))},u=this.options.client_id+"::"+c.audience+"::"+c.scope,l=Pi[u],l||(l=s().finally((function(){delete Pi[u],l=null})),Pi[u]=l),l)];var s,u,l}))}))},e.prototype._getTokenSilently=function(e){return void 0===e&&(e={}),o(this,void 0,void 0,(function(){var t,c,a,s,u,l,f=this;return i(this,(function(d){switch(d.label){case 0:return t=e.ignoreCache,c=r(e,["ignoreCache"]),a=function(){return o(f,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,this.cacheManager.get(new fi({scope:c.scope,audience:c.audience||"default",client_id:this.options.client_id}),60)];case 1:return[2,(e=t.sent())&&e.access_token]}}))}))},t?[3,2]:[4,a()];case 1:if(s=d.sent())return[2,s];d.label=2;case 2:return[4,(h=function(){return Ki.acquireLock(Ai,5e3)},p=10,void 0===p&&(p=3),o(void 0,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<p?[4,h()]:[3,4];case 2:if(t.sent())return[2,!0];t.label=3;case 3:return e++,[3,1];case 4:return[2,!1]}}))})))];case 3:if(!d.sent())return[3,15];d.label=4;case 4:return d.trys.push([4,,12,14]),t?[3,6]:[4,a()];case 5:if(s=d.sent())return[2,s];d.label=6;case 6:return this.options.useRefreshTokens?[4,this._getTokenUsingRefreshToken(c)]:[3,8];case 7:return l=d.sent(),[3,10];case 8:return[4,this._getTokenFromIFrame(c)];case 9:l=d.sent(),d.label=10;case 10:return u=l,[4,this.cacheManager.set(n({client_id:this.options.client_id},u))];case 11:return d.sent(),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2,u.access_token];case 12:return[4,Ki.releaseLock(Ai)];case 13:return d.sent(),[7];case 14:return[3,16];case 15:throw new Jo;case 16:return[2]}var h,p}))}))},e.prototype.getTokenWithPopup=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),o(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return e.audience=e.audience||this.options.audience,e.scope=ui(this.defaultScope,this.scope,e.scope),t=n(n({},Wo),t),[4,this.loginWithPopup(e,t)];case 1:return r.sent(),[4,this.cacheManager.get(new fi({scope:e.scope,audience:e.audience||"default",client_id:this.options.client_id}))];case 2:return[2,r.sent().access_token]}}))}))},e.prototype.isAuthenticated=function(){return o(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.getUser()];case 1:return[2,!!e.sent()]}}))}))},e.prototype.buildLogoutUrl=function(e){void 0===e&&(e={}),null!==e.client_id?e.client_id=e.client_id||this.options.client_id:delete e.client_id;var t=e.federated,n=r(e,["federated"]),o=t?"&federated":"";return this._url("/v2/logout?"+Qo(n))+o},e.prototype.logout=function(e){void 0===e&&(e={});var t=e.localOnly,n=r(e,["localOnly"]);if(t&&n.federated)throw new Error("It is invalid to set both the `federated` and `localOnly` options to `true`");if(this.cacheManager.clear(),this.cookieStorage.remove("auth0.is.authenticated"),!t){var o=this.buildLogoutUrl(n);window.location.assign(o)}},e.prototype._getTokenFromIFrame=function(e){return o(this,void 0,void 0,(function(){var t,o,c,a,s,u,l,f,d,h,p,y,v,m,g;return i(this,(function(i){switch(i.label){case 0:return t=qo(Ho()),o=qo(Ho()),c=Ho(),[4,$o(c)];case 1:a=i.sent(),s=ti(a),u=this._getParams(e,t,o,s,e.redirect_uri||this.options.redirect_uri||window.location.origin),l=this._authorizeUrl(n(n({},u),{prompt:"none",response_mode:"web_message"})),f=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,i.label=2;case 2:return i.trys.push([2,5,,6]),[4,(b=l,w=this.domainUrl,S=f,void 0===S&&(S=60),new Promise((function(e,t){var n=window.document.createElement("iframe");n.setAttribute("width","0"),n.setAttribute("height","0"),n.style.display="none";var r,o=function(){window.document.body.contains(n)&&(window.document.body.removeChild(n),window.removeEventListener("message",r,!1))},i=setTimeout((function(){t(new Jo),o()}),1e3*S);r=function(n){if(n.origin==w&&n.data&&"authorization_response"===n.data.type){var c=n.source;c&&c.close(),n.data.response.error?t(zo.fromPayload(n.data.response)):e(n.data.response),clearTimeout(i),window.removeEventListener("message",r,!1),setTimeout(o,2e3)}},window.addEventListener("message",r,!1),window.document.body.appendChild(n),n.setAttribute("src",b)})))];case 3:if(d=i.sent(),t!==d.state)throw new Error("Invalid state");return h=e.scope,p=e.audience,e.redirect_uri,e.ignoreCache,e.timeoutInSeconds,y=r(e,["scope","audience","redirect_uri","ignoreCache","timeoutInSeconds"]),[4,ai(n(n(n({},this.customOptions),y),{scope:h,audience:p,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:c,code:d.code,grant_type:"authorization_code",redirect_uri:u.redirect_uri,auth0Client:this.options.auth0Client}),this.worker)];case 4:return v=i.sent(),m=this._verifyIdToken(v.id_token,o),[2,n(n({},v),{decodedToken:m,scope:u.scope,audience:u.audience||"default"})];case 5:throw"login_required"===(g=i.sent()).error&&this.logout({localOnly:!0}),g;case 6:return[2]}var b,w,S}))}))},e.prototype._getTokenUsingRefreshToken=function(e){return o(this,void 0,void 0,(function(){var t,o,c,a,s,u,l,f,d;return i(this,(function(i){switch(i.label){case 0:return e.scope=ui(this.defaultScope,this.options.scope,e.scope),[4,this.cacheManager.get(new fi({scope:e.scope,audience:e.audience||"default",client_id:this.options.client_id}))];case 1:return(t=i.sent())&&t.refresh_token||this.worker?[3,3]:[4,this._getTokenFromIFrame(e)];case 2:return[2,i.sent()];case 3:o=e.redirect_uri||this.options.redirect_uri||window.location.origin,a=e.scope,s=e.audience,e.ignoreCache,e.timeoutInSeconds,u=r(e,["scope","audience","ignoreCache","timeoutInSeconds"]),l="number"==typeof e.timeoutInSeconds?1e3*e.timeoutInSeconds:null,i.label=4;case 4:return i.trys.push([4,6,,9]),[4,ai(n(n(n(n(n({},this.customOptions),u),{audience:s,scope:a,baseUrl:this.domainUrl,client_id:this.options.client_id,grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:o}),l&&{timeout:l}),{auth0Client:this.options.auth0Client}),this.worker)];case 5:return c=i.sent(),[3,9];case 6:return"The web worker is missing the refresh token"===(f=i.sent()).message||f.message&&f.message.indexOf("invalid refresh token")>-1?[4,this._getTokenFromIFrame(e)]:[3,8];case 7:return[2,i.sent()];case 8:throw f;case 9:return d=this._verifyIdToken(c.id_token),[2,n(n({},c),{decodedToken:d,scope:e.scope,audience:e.audience||"default"})]}}))}))},e}();function Xi(e){return o(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,(t=new Zi(e)).checkSession()];case 1:return n.sent(),[2,t]}}))}))}var zi=Xi;return zi.Auth0Client=Zi,zi.createAuth0Client=Xi,zi.GenericError=zo,zi.AuthenticationError=No,zi.TimeoutError=Jo,zi.PopupTimeoutError=Go,zi})),"Auth0Client"in this&&this.console&&this.console.warn&&this.console.warn("Auth0Client already declared on the global namespace"),this&&this.createAuth0Client&&(this.Auth0Client=this.Auth0Client||this.createAuth0Client.Auth0Client);
//# sourceMappingURL=auth0-spa-js.production.js.map
